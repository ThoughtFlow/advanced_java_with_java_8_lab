Refactor lab07 using a functional approach.
